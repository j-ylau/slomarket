(()=>{var e={};e.id=4966,e.ids=[4966],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},50852:e=>{"use strict";e.exports=require("async_hooks")},14300:e=>{"use strict";e.exports=require("buffer")},96206:e=>{"use strict";e.exports=require("console")},6113:e=>{"use strict";e.exports=require("crypto")},67643:e=>{"use strict";e.exports=require("diagnostics_channel")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},15673:e=>{"use strict";e.exports=require("node:events")},84492:e=>{"use strict";e.exports=require("node:stream")},47261:e=>{"use strict";e.exports=require("node:util")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},4074:e=>{"use strict";e.exports=require("perf_hooks")},77282:e=>{"use strict";e.exports=require("process")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},35356:e=>{"use strict";e.exports=require("stream/web")},71576:e=>{"use strict";e.exports=require("string_decoder")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},29830:e=>{"use strict";e.exports=require("util/types")},71267:e=>{"use strict";e.exports=require("worker_threads")},59796:e=>{"use strict";e.exports=require("zlib")},87066:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>d,originalPathname:()=>c,pages:()=>l,routeModule:()=>m,tree:()=>p});var s=t(67096),a=t(16132),i=t(37284),o=t.n(i),n=t(32564),u={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>n[e]);t.d(r,u);let p=["",{children:["signup",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,65548)),"/Users/jlau/Code-2023/cpmarketplace/src/app/signup/page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,96109)),"/Users/jlau/Code-2023/cpmarketplace/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["/Users/jlau/Code-2023/cpmarketplace/src/app/signup/page.js"],c="/signup/page",d={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/signup/page",pathname:"/signup",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:p}})},74976:(e,r,t)=>{Promise.resolve().then(t.bind(t,69758))},69758:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>Signup});var s=t(30784),a=t(9885),i=t(21971),o=t.n(i),n=t(52694),u=t.n(n),p=t(43872),l=t.n(p),c=t(33987),d=t.n(c),m=t(81932),x=t.n(m),g=t(92870),h=t.n(g),f=t(16614),q=t.n(f),w=t(57114),v=t(18282),y=t(96106),j=t(39358),_=t(89547);function Signup(){let[e,r]=(0,a.useState)({email:"",password:"",passwordConfirmation:""}),[t,i]=(0,a.useState)(),n=(0,w.useRouter)(),{signUp:p}=(0,v.useAuth)();async function handleSignup(t){t.preventDefault();let s=t.currentTarget.reportValidity(),a=new FormData(t.currentTarget),o=a.get("email"),u=a.get("password"),l=a.get("passwordConfirmation");return u!=l?(i(),r({...e,passwordConfirmation:{error:!0,message:"Your passwords don't match."}})):!s||u.length<6?(i("Passwords must be at least 6 characters long"),r({...e,passwordConfirmation:{error:!1,message:""}})):await p(o,u).then(async e=>{let r=e.user;await (0,y.r4)(r.uid,r.email).then(async()=>{"calpoly.edu"==r.email.split("@").pop()&&await (0,j.w$)(r).catch(e=>{console.error(e),i(e.message)}),n.push("/setup")}).catch(e=>{console.error(e),i(e.message)})}).catch(e=>{console.log(e),i(e.message)}),!1}function handleChange({field:t,value:s}){r({...e,[t]:s})}return s.jsx(s.Fragment,{children:(0,s.jsxs)(o(),{container:!0,component:"main",sx:{height:"100vh"},children:[s.jsx(o(),{item:!0,xs:12,sm:8,md:5,component:u(),elevation:6,square:!0,children:(0,s.jsxs)(l(),{sx:{width:.5,margin:"auto",textAlign:"center",height:"100vh"},children:[s.jsx("img",{src:_.Z,alt:"Logo",style:{width:"300px"}}),s.jsx(d(),{variant:"h5",pb:6,children:s.jsx("strong",{children:"Sign Up for an account."})}),s.jsx(x(),{severity:"info",children:"Use your calpoly.edu email to get a verified account!"}),(0,s.jsxs)("form",{onSubmit:handleSignup,children:[t&&s.jsx(x(),{severity:"error",children:t}),s.jsx(h(),{autoFocus:!0,margin:"dense",id:"email",label:"Email Address",type:"email",name:"email",fullWidth:!0,value:e.email,onChange:e=>handleChange({field:"email",value:e.target.value}),error:e.email?.error}),s.jsx("br",{}),s.jsx(h(),{margin:"dense",id:"password",label:"Password",type:"password",name:"password",fullWidth:!0,value:e.password,onChange:e=>handleChange({field:"password",value:e.target.value})}),s.jsx("br",{}),s.jsx(h(),{margin:"dense",id:"passwordConfirmation",label:"Password Confirmation",type:"password",name:"passwordConfirmation",fullWidth:!0,value:e.passwordConfirmation,onChange:e=>handleChange({field:"passwordConfirmation",value:e.target.value}),error:e.passwordConfirmation?.error,helperText:e.passwordConfirmation?.message}),s.jsx("br",{}),s.jsx("br",{}),s.jsx(q(),{type:"submit",variant:"contained",color:"primary",style:{marginTop:"20px"},children:"Sign Up"})]})]})}),s.jsx(o(),{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(https://source.unsplash.com/random?wallpapers)",backgroundRepeat:"no-repeat",backgroundColor:e=>"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"}})]})})}},65548:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>o,__esModule:()=>i,default:()=>u});var s=t(95153);let a=(0,s.createProxy)(String.raw`/Users/jlau/Code-2023/cpmarketplace/src/app/signup/page.js`),{__esModule:i,$$typeof:o}=a,n=a.default,u=n}};var r=require("../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[657,6120,8153,1323,4359,2870,402,2291],()=>__webpack_exec__(87066));module.exports=t})();